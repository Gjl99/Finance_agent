2025-08-10 10:37:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 10:37:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 10:37:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 10:37:28 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: No MCP tools available.
2025-08-10 10:38:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 10:38:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 10:38:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 10:38:11 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 10:38:11 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 10:38:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 10:38:11 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 10:38:08
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 10:38:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 10:39:41 - src.agents.technical_agent - INFO - ReAct agent execution completed in 89.76 seconds
2025-08-10 10:39:41 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 10:39:41 - src.agents.technical_agent - INFO - Final extracted analysis length: 2265 characters
2025-08-10 10:39:41 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 10:45:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 10:45:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 10:45:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 10:46:01 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 10:46:01 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 10:46:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 10:46:01 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 10:45:57
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 10:46:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 10:47:34 - src.agents.technical_agent - INFO - ReAct agent execution completed in 93.35 seconds
2025-08-10 10:47:34 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 10:47:34 - src.agents.technical_agent - INFO - Final extracted analysis length: 2180 characters
2025-08-10 10:47:34 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 11:03:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 11:03:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 11:03:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 11:03:10 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 11:03:10 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 11:03:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 11:03:10 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 11:03:07
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 11:03:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 11:08:01 - src.agents.technical_agent - INFO - ReAct agent execution completed in 290.50 seconds
2025-08-10 11:08:01 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 11:08:01 - src.agents.technical_agent - INFO - Final extracted analysis length: 8825 characters
2025-08-10 11:08:01 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 11:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 11:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 11:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 11:30:21 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 11:30:21 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 11:30:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 11:30:21 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 11:30:17
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 11:30:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 11:33:27 - src.agents.technical_agent - INFO - ReAct agent execution completed in 186.03 seconds
2025-08-10 11:33:27 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 11:33:27 - src.agents.technical_agent - INFO - Final extracted analysis length: 2073 characters
2025-08-10 11:33:27 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 20:44:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 20:44:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 20:44:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 20:44:12 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: No MCP tools available.
2025-08-10 20:45:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 20:45:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 20:45:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 20:45:36 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 20:45:36 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 20:45:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 20:45:36 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè…¾è®¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.00700ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 20:45:34
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 20:45:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 20:47:26 - src.agents.technical_agent - INFO - ReAct agent execution completed in 110.40 seconds
2025-08-10 20:47:26 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 20:47:26 - src.agents.technical_agent - INFO - Final extracted analysis length: 265 characters
2025-08-10 20:47:26 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 20:53:12 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 20:53:12 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 20:53:12 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 20:53:13 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 20:53:13 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 20:53:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 20:53:13 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè…¾è®¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.00700ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 20:53:11
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 20:53:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 20:54:18 - src.agents.technical_agent - INFO - ReAct agent execution completed in 64.46 seconds
2025-08-10 20:54:18 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 20:54:18 - src.agents.technical_agent - INFO - Final extracted analysis length: 229 characters
2025-08-10 20:54:18 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 20:56:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 20:56:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 20:56:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 20:56:03 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 20:56:03 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 20:56:03 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 20:56:03 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 20:56:01
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 20:56:03 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-10 20:58:52 - src.agents.technical_agent - INFO - ReAct agent execution completed in 169.02 seconds
2025-08-10 20:58:52 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-10 20:58:52 - src.agents.technical_agent - INFO - Final extracted analysis length: 2212 characters
2025-08-10 20:58:52 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-10 21:07:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-10 21:07:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-seed-1-6-250615
2025-08-10 21:07:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-10 21:07:58 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-10 21:07:58 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-10 21:07:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-10 21:07:58 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ10æ—¥ (2025-08-10) æ˜ŸæœŸæ—¥ 21:07:56
å½“å‰æ—¥æœŸï¼š2025-08-10

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-10 21:07:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:27:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:27:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:27:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:27:40 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:27:40 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:27:40 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:27:40 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:27:38
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:27:40 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:28:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:28:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:28:10 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:28:11 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:28:11 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:28:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:28:11 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:28:10
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:28:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:28:53 - src.agents.technical_agent - INFO - ReAct agent execution completed in 73.11 seconds
2025-08-19 22:28:53 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:28:53 - src.agents.technical_agent - INFO - Final extracted analysis length: 2317 characters
2025-08-19 22:28:53 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-19 22:30:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:30:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:30:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:30:14 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:30:14 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:30:14 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:30:14 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:30:12
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:30:14 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:30:18 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:30:19 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:30:19 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:30:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:30:19 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:30:18
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:30:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:31:28 - src.agents.technical_agent - INFO - ReAct agent execution completed in 74.08 seconds
2025-08-19 22:31:28 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:31:28 - src.agents.technical_agent - INFO - Final extracted analysis length: 2486 characters
2025-08-19 22:31:28 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-19 22:31:44 - src.agents.technical_agent - INFO - ReAct agent execution completed in 85.01 seconds
2025-08-19 22:31:44 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:31:44 - src.agents.technical_agent - INFO - Final extracted analysis length: 2870 characters
2025-08-19 22:31:44 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-19 22:35:17 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:35:17 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:35:17 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:35:19 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:35:19 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:35:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:35:19 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:35:17
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:35:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:36:44 - src.agents.technical_agent - INFO - ReAct agent execution completed in 84.99 seconds
2025-08-19 22:36:44 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:36:44 - src.agents.technical_agent - INFO - Final extracted analysis length: 1770 characters
2025-08-19 22:36:44 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-19 22:45:32 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:45:32 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:45:32 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:45:33 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:45:33 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:45:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:45:33 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:45:31
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:45:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:47:04 - src.agents.technical_agent - INFO - ReAct agent execution completed in 90.91 seconds
2025-08-19 22:47:04 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:47:04 - src.agents.technical_agent - INFO - Final extracted analysis length: 2510 characters
2025-08-19 22:47:04 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-08-19 22:47:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-08-19 22:47:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model doubao-1-5-thinking-vision-pro-250428
2025-08-19 22:47:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-08-19 22:47:59 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-08-19 22:47:59 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-08-19 22:47:59 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-08-19 22:47:59 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´08æœˆ19æ—¥ (2025-08-19) æ˜ŸæœŸäºŒ 22:47:57
å½“å‰æ—¥æœŸï¼š2025-08-19

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-08-19 22:47:59 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-08-19 22:49:24 - src.agents.technical_agent - INFO - ReAct agent execution completed in 84.81 seconds
2025-08-19 22:49:24 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-08-19 22:49:24 - src.agents.technical_agent - INFO - Final extracted analysis length: 1916 characters
2025-08-19 22:49:24 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-06 21:39:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-06 21:39:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-06 21:39:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-06 21:39:30 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-06 21:39:30 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-06 21:39:30 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-06 21:39:30 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ06æ—¥ (2025-11-06) æ˜ŸæœŸå›› 21:39:27
å½“å‰æ—¥æœŸï¼š2025-11-06

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-06 21:39:30 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-06 21:39:30 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: Error code: 403 - {'code': 30001, 'message': 'Sorry, your account balance is insufficient', 'data': None}
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 148, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1414, in _agenerate
    response = await self.async_client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py", line 2585, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/openai/_base_client.py", line 1794, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/openai/_base_client.py", line 1594, in request
    raise self._make_status_error_from_response(err.response) from None
openai.PermissionDeniedError: Error code: 403 - {'code': 30001, 'message': 'Sorry, your account balance is insufficient', 'data': None}
During task with name 'agent' and id '64f0ef83-9f38-f83e-013a-c8b40712fa7b'
2025-11-11 22:30:17 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-11 22:30:17 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-11 22:30:17 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error during execution: Using SOCKS proxy, but the 'socksio' package is not installed. Make sure to install httpx using `pip install httpx[socks]`.
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 83, in technical_agent
    llm = ChatOpenAI(
          ^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 787, in validate_environment
    or _get_default_httpx_client(self.openai_api_base, self.request_timeout)
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/_client_utils.py", line 92, in _get_default_httpx_client
    return _cached_sync_httpx_client(base_url, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/_client_utils.py", line 70, in _cached_sync_httpx_client
    return _build_sync_httpx_client(base_url, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/_client_utils.py", line 47, in _build_sync_httpx_client
    return _SyncHttpxClientWrapper(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/openai/_base_client.py", line 794, in __init__
    super().__init__(**kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/httpx/_client.py", line 700, in __init__
    else self._init_proxy_transport(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/httpx/_client.py", line 750, in _init_proxy_transport
    return HTTPTransport(
           ^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/httpx/_transports/default.py", line 191, in __init__
    raise ImportError(
ImportError: Using SOCKS proxy, but the 'socksio' package is not installed. Make sure to install httpx using `pip install httpx[socks]`.
2025-11-11 22:36:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-11 22:36:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-11 22:36:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-11 22:36:03 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-11 22:36:03 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-11 22:36:03 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-11 22:36:03 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ11æ—¥ (2025-11-11) æ˜ŸæœŸäºŒ 22:36:01
å½“å‰æ—¥æœŸï¼š2025-11-11

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-11 22:36:03 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-11 22:36:35 - src.agents.technical_agent - INFO - ReAct agent execution completed in 31.73 seconds
2025-11-11 22:36:35 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-11 22:36:35 - src.agents.technical_agent - INFO - Final extracted analysis length: 1171 characters
2025-11-11 22:36:35 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-11 22:46:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-11 22:46:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-11 22:46:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-11 22:46:13 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-11 22:46:13 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-11 22:46:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-11 22:46:13 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ11æ—¥ (2025-11-11) æ˜ŸæœŸäºŒ 22:46:11
å½“å‰æ—¥æœŸï¼š2025-11-11

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-11 22:46:13 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-11 22:46:13 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: AsyncCompletions.create() got an unexpected keyword argument 'strict'
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1414, in _agenerate
    response = await self.async_client.create(**payload)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/openai/_utils/_utils.py", line 286, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: AsyncCompletions.create() got an unexpected keyword argument 'strict'
During task with name 'agent' and id 'bca7b600-3b14-26cb-0a8c-683060d51633'
2025-11-11 22:51:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-11 22:51:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-11 22:51:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-11 22:51:45 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-11 22:51:45 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-11 22:51:45 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-11 22:51:45 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ11æ—¥ (2025-11-11) æ˜ŸæœŸäºŒ 22:51:44
å½“å‰æ—¥æœŸï¼š2025-11-11

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-11 22:51:45 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-11 22:51:57 - src.agents.technical_agent - INFO - ReAct agent execution completed in 11.92 seconds
2025-11-11 22:51:57 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-11 22:51:57 - src.agents.technical_agent - INFO - Final extracted analysis length: 167 characters
2025-11-11 22:51:57 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-17 23:11:20 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:11:20 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:11:20 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:11:22 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:11:22 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:11:22 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:11:22 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:11:20
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:11:22 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:12:17 - src.agents.technical_agent - INFO - ReAct agent execution completed in 54.26 seconds
2025-11-17 23:12:17 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-17 23:12:17 - src.agents.technical_agent - INFO - Final extracted analysis length: 1385 characters
2025-11-17 23:12:17 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-17 23:21:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:21:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:21:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:21:04 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: No MCP tools available.
2025-11-17 23:22:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:22:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:22:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:22:44 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:22:44 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:22:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:22:44 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:22:42
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:22:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:22:49 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: FixedChatOpenAI._create_chat_result() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: FixedChatOpenAI._create_chat_result() takes 2 positional arguments but 3 were given
During task with name 'agent' and id 'd3a49d4d-29d1-e70f-398e-90a8b2673dfe'
2025-11-17 23:24:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:24:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:24:11 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:24:12 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: No MCP tools available.
2025-11-17 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:24:38 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:24:38 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:24:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:24:38 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:24:36
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:24:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:24:49 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 2 validation errors for AIMessage
invalid_tool_calls.0.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
invalid_tool_calls.1.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519', 'st...'d', 'adjust_flag': '3'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 41, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 2 validation errors for AIMessage
invalid_tool_calls.0.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
invalid_tool_calls.1.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519', 'st...'d', 'adjust_flag': '3'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
During task with name 'agent' and id 'ed1a86c5-cc73-9648-16c3-2e05b6671cdd'
2025-11-17 23:25:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:25:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:25:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:25:44 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:25:44 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:25:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:25:44 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:25:42
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:25:44 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:25:50 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
invalid_tool_calls.0.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 51, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
invalid_tool_calls.0.args
  Input should be a valid string [type=string_type, input_value={'code': 'sh.600519'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
During task with name 'agent' and id 'f5eb7a06-05e1-6286-d5a5-c61d264585c6'
2025-11-17 23:26:50 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:26:50 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:26:50 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:26:51 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:26:51 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:26:51 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:26:51 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:26:49
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:26:51 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:27:44 - src.agents.technical_agent - INFO - ReAct agent execution completed in 52.17 seconds
2025-11-17 23:27:44 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-17 23:27:44 - src.agents.technical_agent - INFO - Final extracted analysis length: 1926 characters
2025-11-17 23:27:44 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-17 23:32:35 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:32:35 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:32:35 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:32:36 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:32:36 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:32:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:32:36 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æUnknownï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:32:34
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:32:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:32:53 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 72, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '6d23937b-e91d-7951-9b86-3bf05b4f0c35'
2025-11-17 23:42:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:42:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:42:19 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:42:21 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:42:21 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:42:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:42:21 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æUnknownï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:42:19
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:42:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:42:37 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 72, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id 'b39d2de6-36ac-a912-3b70-10f4309e29e9'
2025-11-17 23:47:59 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-17 23:47:59 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-17 23:47:59 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-17 23:48:01 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-17 23:48:01 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-17 23:48:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-17 23:48:01 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ17æ—¥ (2025-11-17) æ˜ŸæœŸä¸€ 23:47:59
å½“å‰æ—¥æœŸï¼š2025-11-17

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-17 23:48:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-17 23:48:19 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.600519", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.600519", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '4430a0ea-ab00-179a-e57a-8d9704d39955'
2025-11-18 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-18 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-18 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-18 19:50:37 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-18 19:50:37 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-18 19:50:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-18 19:50:37 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå®å¾·æ—¶ä»£ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ18æ—¥ (2025-11-18) æ˜ŸæœŸäºŒ 19:49:25
å½“å‰æ—¥æœŸï¼š2025-11-18

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-18 19:50:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-18 19:50:50 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sz.300750"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sz.300750"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '7e89fbdb-f4f7-55cd-6b02-cb863048f3b2'
2025-11-21 19:50:04 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 19:50:04 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 19:50:04 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 19:50:05 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 19:50:05 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 19:50:05 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 19:50:05 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 19:50:04
å½“å‰æ—¥æœŸï¼š2025-11-21

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 19:50:05 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 19:50:25 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '921b62e8-ceeb-32c1-2f14-b4fe550625ba'
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 19:54:08
å½“å‰æ—¥æœŸï¼š2025-11-21

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 19:54:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 19:54:11 - src.agents.technical_agent - INFO - ReAct agent execution completed in 2.58 seconds
2025-11-21 19:54:11 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-21 19:54:11 - src.agents.technical_agent - INFO - Final extracted analysis length: 120 characters
2025-11-21 19:54:11 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-21 19:58:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 19:58:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 19:58:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 19:58:34 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 19:58:34 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 19:58:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 19:58:34 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 19:58:32
å½“å‰æ—¥æœŸï¼š2025-11-21

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 19:58:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 19:58:48 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id 'c7222d0f-5667-fba5-aee6-46167db6fe4f'
2025-11-21 20:03:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 20:03:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 20:03:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 20:03:22 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 20:03:22 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 20:03:22 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 20:03:22 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 20:03:20
å½“å‰æ—¥æœŸï¼š2025-11-21

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 20:03:22 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 20:03:25 - src.agents.technical_agent - INFO - ReAct agent execution completed in 2.84 seconds
2025-11-21 20:03:25 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-21 20:03:25 - src.agents.technical_agent - INFO - Final extracted analysis length: 149 characters
2025-11-21 20:03:25 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-21 20:11:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 20:11:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 20:11:07 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 20:11:08 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 20:11:08 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 20:11:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 20:11:08 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 20:11:07
å½“å‰æ—¥æœŸï¼š2025-11-21

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 20:11:08 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 20:11:21 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 149, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '42360b9c-8082-2166-4b9d-27c7dae4f9fa'
2025-11-21 21:07:48 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 21:07:48 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 21:07:48 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 21:07:49 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 21:07:49 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 21:07:49 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 21:07:49 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 21:07:47
å½“å‰æ—¥æœŸï¼š2025-11-21

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 21:07:49 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 21:07:52 - src.agents.technical_agent - INFO - ReAct agent execution completed in 3.27 seconds
2025-11-21 21:07:52 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-21 21:07:52 - src.agents.technical_agent - INFO - Final extracted analysis length: 157 characters
2025-11-21 21:07:52 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼š920091ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 21:08:58
å½“å‰æ—¥æœŸï¼š2025-11-21

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 21:08:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 21:09:08 - src.agents.technical_agent - INFO - ReAct agent execution completed in 10.03 seconds
2025-11-21 21:09:08 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-21 21:09:08 - src.agents.technical_agent - INFO - Final extracted analysis length: 154 characters
2025-11-21 21:09:08 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼š920091ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ21æ—¥ (2025-11-21) æ˜ŸæœŸäº” 21:14:02
å½“å‰æ—¥æœŸï¼š2025-11-21

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-21 21:14:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-21 21:14:07 - src.agents.technical_agent - INFO - ReAct agent execution completed in 4.61 seconds
2025-11-21 21:14:07 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-21 21:14:07 - src.agents.technical_agent - INFO - Final extracted analysis length: 212 characters
2025-11-21 21:14:07 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-23 22:39:28 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:39:28 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:39:28 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:39:29 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 22:39:29 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 22:39:29 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 22:39:29 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯è‚¡ç¥¨ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 22:39:27
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 22:39:29 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 22:39:35 - src.agents.technical_agent - INFO - ReAct agent execution completed in 5.57 seconds
2025-11-23 22:39:35 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-23 22:39:35 - src.agents.technical_agent - INFO - Final extracted analysis length: 204 characters
2025-11-23 22:39:35 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-23 22:44:25 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:44:25 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:44:25 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:44:27 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: No MCP tools available.
2025-11-23 22:45:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:45:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:45:21 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:45:23 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 22:45:23 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 22:45:23 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 22:45:23 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æä¸€è‚¡ç¥¨ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.920091ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 22:45:20
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 22:45:23 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 22:45:39 - src.agents.technical_agent - INFO - ReAct agent execution completed in 16.56 seconds
2025-11-23 22:45:39 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-23 22:45:39 - src.agents.technical_agent - INFO - Final extracted analysis length: 202 characters
2025-11-23 22:45:39 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-23 22:48:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:48:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:48:02 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:48:04 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 22:48:04 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 22:48:04 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 22:48:04 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æUnknownï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.920091ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 22:48:02
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 22:48:04 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 22:48:20 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sz.920091"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 151, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 74, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sz.920091"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '9dd795e8-7613-c989-6122-698414744163'
2025-11-23 22:53:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:53:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:53:56 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:53:58 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 22:53:58 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 22:53:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 22:53:58 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†ææ¯”äºšè¿ªï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 22:53:56
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 22:53:58 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 22:59:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 22:59:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 22:59:27 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 22:59:29 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 22:59:29 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 22:59:29 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 22:59:29 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè…¾è®¯ï¼ˆè‚¡ç¥¨ä»£ç ï¼šUnknownï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 22:59:27
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 22:59:29 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 22:59:49 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.601318", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 151, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 80, in _patched_convert_dict_to_message
    return original_convert(response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 167, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 192, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 72, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.601318", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id '371369ab-b97d-7a9f-657f-660d92803ca1'
2025-11-23 23:08:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 23:08:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 23:08:00 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 23:08:01 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 23:08:01 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 23:08:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 23:08:01 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æè¿™æ”¯è‚¡ç¥¨ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.920091ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 23:07:59
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 23:08:01 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 23:08:15 - src.agents.technical_agent - INFO - ReAct agent execution completed in 13.73 seconds
2025-11-23 23:08:15 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-23 23:08:15 - src.agents.technical_agent - INFO - Final extracted analysis length: 145 characters
2025-11-23 23:08:15 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-23 23:14:55 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 23:14:55 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 23:14:55 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 23:14:57 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 23:14:57 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 23:14:57 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 23:14:57 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æUnknownï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 23:14:54
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 23:14:57 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 23:15:53 - src.agents.technical_agent - INFO - ReAct agent execution completed in 56.44 seconds
2025-11-23 23:15:53 - src.agents.technical_agent - INFO - Successfully extracted analysis from AI message.
2025-11-23 23:15:53 - src.agents.technical_agent - INFO - Final extracted analysis length: 1609 characters
2025-11-23 23:15:53 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully completed technical analysis.
2025-11-23 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-23 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-23 23:24:37 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-23 23:24:39 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-23 23:24:39 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-23 23:24:39 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-23 23:24:39 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æUnknownï¼ˆè‚¡ç¥¨ä»£ç ï¼šsz.002594ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ23æ—¥ (2025-11-23) æ˜ŸæœŸæ—¥ 23:24:37
å½“å‰æ—¥æœŸï¼š2025-11-23

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-23 23:24:39 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-23 23:25:17 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 151, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3112, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2939, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 465, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 663, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3091, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5454, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 405, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1017, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 975, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1145, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1415, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1253, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 43, in _patched_convert_dict_to_message
    logger.debug(f"Found {len(tool_calls)} tool calls")
                          ^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
During task with name 'agent' and id 'a0af0c14-62e2-29ce-8655-dc0939cdd85e'
2025-11-24 10:41:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-24 10:41:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-24 10:41:43 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-24 10:41:45 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-24 10:41:45 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-24 10:41:45 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-24 10:41:45 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ24æ—¥ (2025-11-24) æ˜ŸæœŸä¸€ 10:41:43
å½“å‰æ—¥æœŸï¼š2025-11-24

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-24 10:41:45 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-11-24 10:42:07 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 151, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3137, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2956, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 304, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 705, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 464, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 696, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3169, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5547, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 421, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1128, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1086, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1339, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1587, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 603, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 594, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1418, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 107, in _patched_convert_dict_to_message
    result = _original_convert(response)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 180, in _convert_dict_to_message
    return AIMessage(
           ^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/ai.py", line 219, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/messages/base.py", line 179, in __init__
    super().__init__(content=content, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/load/serializable.py", line 116, in __init__
    super().__init__(*args, **kwargs)
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for AIMessage
tool_calls.0.args
  Input should be a valid dictionary [type=dict_type, input_value='{"code": "sh.603871", "s...d", "adjust_flag": "3"}', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/dict_type
During task with name 'agent' and id 'a2e4d281-e091-b19b-bba6-f25e2bbcbc24'
2025-11-24 10:50:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-11-24 10:50:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-11-24 10:50:33 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-11-24 10:50:34 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-11-24 10:50:34 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-11-24 10:50:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-11-24 10:50:34 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æå˜‰å‹å›½é™…ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.603871ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´11æœˆ24æ—¥ (2025-11-24) æ˜ŸæœŸä¸€ 10:50:32
å½“å‰æ—¥æœŸï¼š2025-11-24

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-11-24 10:50:34 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-12-14 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Starting technical analysis using ReAct framework.
2025-12-14 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ChatOpenAI with model Qwen/Qwen2.5-72B-Instruct
2025-12-14 19:50:36 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Fetching MCP tools...
2025-12-14 19:50:38 - src.agents.technical_agent - INFO - âœ“ TechnicalAgent: Successfully loaded 27 tools.
2025-12-14 19:50:38 - src.agents.technical_agent - INFO - Available tools: ['get_historical_k_data', 'get_stock_basic_info', 'get_dividend_data', 'get_adjust_factor_data', 'get_profit_data', 'get_operation_data', 'get_growth_data', 'get_balance_data', 'get_cash_flow_data', 'get_dupont_data', 'get_performance_express_report', 'get_forecast_report', 'get_stock_industry', 'get_sz50_stocks', 'get_hs300_stocks', 'get_zz500_stocks', 'get_trade_dates', 'get_all_stock', 'get_deposit_rate_data', 'get_loan_rate_data', 'get_required_reserve_ratio_data', 'get_money_supply_data_month', 'get_money_supply_data_year', 'get_latest_trading_date', 'get_market_analysis_timeframe', 'get_stock_analysis', 'crawl_news']
2025-12-14 19:50:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Creating ReAct agent...
2025-12-14 19:50:38 - src.agents.technical_agent - INFO - Agent input: è¯·åˆ†æèŒ…å°ï¼ˆè‚¡ç¥¨ä»£ç ï¼šsh.600519ï¼‰çš„æŠ€æœ¯æŒ‡æ ‡ã€‚

å½“å‰æ—¶é—´ï¼š2025å¹´12æœˆ14æ—¥ (2025-12-14) æ˜ŸæœŸæ—¥ 19:50:35
å½“å‰æ—¥æœŸï¼š2025-12-14

é‡è¦æç¤ºï¼šè°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨å®Œæ•´çš„è‚¡ç¥¨ä»£ç ï¼ˆåŒ…å«äº¤æ˜“æ‰€å‰ç¼€ï¼Œä¾‹å¦‚ 'sh.600000' æˆ– 'sz.000001'ï¼‰ï¼Œä¸è¦çœç•¥å‰ç¼€ï¼Œå¦åˆ™å·¥å…·è°ƒç”¨ä¼šå¤±è´¥ã€‚

è¯·è¿›è¡Œä»¥ä¸‹æŠ€æœ¯åˆ†æï¼š
1. è·å–è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯å’Œæœ€æ–°ä»·æ ¼
2. è·å–å†å²Kçº¿æ•°æ®ï¼ˆå»ºè®®è·å–æœ€è¿‘3-6ä¸ªæœˆçš„æ•°æ®ï¼‰
3. åˆ†æä»·æ ¼è¶‹åŠ¿å’ŒæŠ€æœ¯å½¢æ€
4. åˆ†ææˆäº¤é‡å˜åŒ–
5. è®¡ç®—å’Œåˆ†æä¸»è¦æŠ€æœ¯æŒ‡æ ‡ï¼ˆå¦‚ç§»åŠ¨å¹³å‡çº¿ã€MACDã€RSIç­‰ï¼‰
6. è¯†åˆ«æ”¯æ’‘ä½å’Œé˜»åŠ›ä½
7. æä¾›æŠ€æœ¯é¢æ€»ç»“å’ŒçŸ­æœŸèµ°åŠ¿åˆ¤æ–­

é‡è¦é™åˆ¶ï¼šè¯·ä¸“æ³¨äºä»·æ ¼æ•°æ®å’ŒæŠ€æœ¯æŒ‡æ ‡åˆ†æï¼Œä¸è¦ä½¿ç”¨crawl_newså·¥å…·è·å–æ–°é—»ä¿¡æ¯ã€‚æŠ€æœ¯åˆ†æåº”è¯¥åŸºäºä»·æ ¼èµ°åŠ¿ã€æˆäº¤é‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ•°æ®ï¼Œè€Œä¸æ˜¯æ–°é—»äº‹ä»¶ã€‚

è¯·ä½¿ç”¨å¯ç”¨çš„å·¥å…·è·å–å®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œè€Œä¸æ˜¯åŸºäºå‡è®¾ã€‚
2025-12-14 19:50:38 - src.agents.technical_agent - INFO - ğŸ”„ TechnicalAgent: Calling ReAct agent...
2025-12-14 19:52:05 - src.agents.technical_agent - ERROR - âœ— TechnicalAgent: Error in MCP or agent execution: object of type 'NoneType' has no len()
Traceback (most recent call last):
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/agents/technical_agent.py", line 151, in technical_agent
    response = await agent.ainvoke(input_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 3137, in ainvoke
    async for chunk in self.astream(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2956, in astream
    async for _ in runner.atick(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 304, in atick
    await arun_with_retry(
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 705, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 464, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langgraph/prebuilt/chat_agent_executor.py", line 696, in acall_model
    response = cast(AIMessage, await static_model.ainvoke(model_input, config))  # type: ignore[union-attr]
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 3169, in ainvoke
    input_ = await coro_with_context(part(), context, create_task=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5547, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 421, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1128, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1086, in agenerate
    raise exceptions[0]
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1339, in _agenerate_with_cache
    result = await self._agenerate(
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1587, in _agenerate
    return await run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 603, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 594, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/agent/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1418, in _create_chat_result
    message = _convert_dict_to_message(res["message"])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/data1/gjl/more_learning/shock_invest_Agent/Finance/Financial-MCP-Agent/src/utils/chat_openai_wrapper.py", line 43, in _patched_convert_dict_to_message
    logger.debug(f"Found {len(tool_calls)} tool calls")
                          ^^^^^^^^^^^^^^^
TypeError: object of type 'NoneType' has no len()
During task with name 'agent' and id '90e52f3e-3722-525c-4d8e-7da865529a4d'
